define(function(require,exports,module){require("jquery");function ScrollAnimate(){this.cfg={id:"",thisShow:0,speed:300,scrollNum:3,box:"ul",boxlist:"li",theMag:10,Alllist:3,overlist:2,theway:true,overnum:5,thebutton:false}}ScrollAnimate.prototype={init:function(cfg){var $this=this;$this.cfg=$.extend($this.cfg,cfg);var arg=$this.cfg;var prev=$($this.cfg.prev);var next=$($this.cfg.next);arg.obj=$(arg.id);arg.scrollObj=arg.obj.find(arg.box);var onewidth=arg.scrollObj.find(arg.boxlist).eq(1).outerWidth(true);var step=arg.scrollNum*onewidth;arg.scrollList=arg.scrollObj.find(arg.boxlist);var BmaxIndex=arg.scrollList.length-arg.Alllist;var listSize=arg.scrollList.size();var sobjWidth=onewidth*listSize;arg.scrollObj.css("width",sobjWidth+"px");var tempNum=listSize/arg.scrollNum;var pages=Math.ceil((listSize-arg.Alllist)/arg.scrollNum);var conWidth=arg.scrollObj.parent().width();var tempMargin=0;if(prev){prev.off("click").on("click",function(e){prevGo();e.stopPropagation()})}if(next){next.off("click").on("click",function(e){nextGo();e.stopPropagation()})}if(listSize<=arg.overnum){next.hide();prev.hide()}else{setBtn()}function start(){if(arg.thisShow==pages){arg.scrollObj.stop(false,false).animate({"marginLeft":-(sobjWidth-conWidth-arg.theMag)+"px"},arg.speed,function(){tempMargin=Math.abs(parseInt(arg.scrollObj.css("marginLeft")))+conWidth})}else{arg.scrollObj.stop(false,false).animate({"marginLeft":-(arg.thisShow*step)+"px"},arg.speed,function(){tempMargin=Math.abs(parseInt(arg.scrollObj.css("marginLeft")))+conWidth+4})}setBtn()}function setBtn(){if(arg.thisShow==pages){if(!next.hasClass(arg.ntendClass)){next.addClass(arg.ntendClass)}if(next.hasClass(arg.ntClass)){next.removeClass(arg.ntClass)}}else{if(!next.hasClass(arg.ntClass)){next.addClass(arg.ntClass)}if(next.hasClass(arg.ntendClass)){next.removeClass(arg.ntendClass)}}if(arg.thisShow>=1){if(!prev.hasClass(arg.peClass)){prev.addClass(arg.peClass)}if(prev.hasClass(arg.pendClass)){prev.removeClass(arg.pendClass)}}else{if(!prev.hasClass(arg.pendClass)){prev.addClass(arg.pendClass)}if(prev.hasClass(arg.peClass)){prev.removeClass(arg.peClass)}if(!next.hasClass(arg.ntClass)){next.addClass(arg.ntClass)}if(next.hasClass(arg.ntendClass)){next.removeClass(arg.ntendClass)}}}function prevGo(){if(arg.thisShow>0){arg.thisShow--;start()}}function nextGo(){if(arg.thisShow<pages){arg.thisShow++;start()}}}};module.exports=ScrollAnimate});